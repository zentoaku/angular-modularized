angular.module("AlertService",[]),angular.module("AlertService").controller("AlertCtrl",function(e,t){e.alerts=t.getAlerts(),e.closeAlert=function(e){t.closeAlert(e)}}),angular.module("AlertService").factory("Alert",["$timeout",function(e){this.queue=[],this.alerts=[];var t=this;this.TYPE_INFO=0,this.TYPE_SUCCESS=1,this.TYPE_ALERT=2,this.TYPE_ERROR=3,this.add=function(e,o){var n=new r(e,o);this.stack(n)||t.queue.push(n),t.alerts.push(n)},this.closeAlert=function(e){return t.queue.splice(t.queue.indexOf(e),1)},this.getAlerts=function(){return t.queue},this.getAll=function(){return this.alerts},this.stack=function(e){var r=t.queue.slice(-1)[0];return void 0===r?!1:r.compare(e)};var r=function(e,t){var r={0:"alert-info",1:"alert-success",2:"alert-warning",3:"alert-danger"},t=t,e=e,o=1;this.getType=function(){return t},this.getClass=function(){return r[t]},this.getMsg=function(){return e},this.getCount=function(){return o},this.compare=function(r){return t===r.getType()&&e===r.getMsg()?(o++,!0):!1}};return this}]),angular.module("AlertService").directive("alert",function(){return{templateUrl:"plugins/AlertService/views/alert.html",restrict:"E",controller:"AlertCtrl"}}),angular.module("Auth",[]).config(["$routeProvider",function(e){e.when("/redirect",{template:"",controller:"RedirectCtrl","public":!0})}]),angular.module("Auth").controller("RedirectCtrl",["$location","$cookies",function(e,t){var r=t.get("ssid");void 0!==r?e.path("/"):e.path("/unauthorized")}]),angular.module("Auth").factory("Auth",["Restangular","config","$q",function(e,t,r){return e.withConfig(function(e){e.setBaseUrl(t.URL)}),{isMaintenance:function(){return r.defer().resolve({})}}}]),angular.module("CloudService",["restangular","angular-cache"]).config(["RestangularProvider",function(e){e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.setDefaultHttpFields({withCredentials:!0})}]).config(function(e){angular.extend(e.defaults,{maxAge:9e5})}),angular.module("CloudService").factory("CloudMock",["$q","$window","Restangular",function(e,t,r){var o=r.all(),n=function(r){this.authorize=function(e){var r="";r=void 0!==e&&""!==e?t.location.protocol+"//"+t.location.host+"/#"+e:t.location.href,t.location.href=r},this.logout=function(){var t=e.defer();return t.resolve(),t.promise}},a=new n(o);return a}]),angular.module("CloudService").factory("CloudRest",["Restangular","config","$location","$window","$q","CacheFactory","$http",function(e,t,r,o,n,a,i){var u,l=t.URL,c={},s={getItem:function(e){return c[e]},setItem:function(e,t){c[e]=t},removeItem:function(e){delete c[e]}},d={deleteOnExpire:"passive",recycleFreq:3e5,maxAge:3e5,storageMode:"sessionStorage",storagePrefix:""};window.sessionStorage||(d.storageMode="memory",d.storageImpl=s),a.get("CloudServiceCache")||a("CloudServiceCache",d),u=a.get("CloudServiceCache");var f=e.withConfig(function(e){e.setBaseUrl(t.apiCloudURL),e.setDefaultHttpFields({cache:u,withCredentials:!0}),e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.addErrorInterceptor(function(e,t,o){return 401===e.status?(C.authorize(),!1):403===e.status?(r.path("/unauthorized"),!1):!0})}),h=e.withConfig(function(e){e.setBaseUrl(t.apiCloudURL),e.setDefaultHttpFields({cache:!1,withCredentials:!0}),e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.addErrorInterceptor(function(e,t,o){return 401===e.status?(C.authorize(),!1):403===e.status?(r.path("/unauthorized"),!1):!0})}),g=function(e,t,r){var n=e.all(r.apiCloudCtx);e.all(r.apiCloudCtxV2),e.all(r.apiCloudCtxV3),t.all(r.apiCloudCtx),t.all(r.apiCloudCtxV2),t.all(r.apiCloudCtxV3),this.authorize=function(e){var t="";t=void 0!==e&&""!==e?l+o.location.protocol+"//"+o.location.host+"/#"+e:l+o.location.href,o.location.href=t},this.logout=function(){return n.one("auth").post("logout",{})}},C=new g(f,h,t);return C}]),angular.module("CloudService").factory("CloudService",["CloudRest","CloudMock","config",function(e,t,r){return"DEVEL"===r.ENV?t:e}]);