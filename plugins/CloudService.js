angular.module("CloudService",["restangular","angular-cache"]).config(["RestangularProvider",function(e){e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.setDefaultHttpFields({withCredentials:!0})}]).config(function(e){angular.extend(e.defaults,{maxAge:9e5})}),angular.module("CloudService").factory("CloudMock",["$q","$window","Restangular",function(e,t,o){var a=o.all(),r=function(o){this.authorize=function(e){var o="";o=void 0!==e&&""!==e?t.location.protocol+"//"+t.location.host+"/#"+e:t.location.href,t.location.href=o},this.logout=function(){var t=e.defer();return t.resolve(),t.promise}},n=new r(a);return n}]),angular.module("CloudService").factory("CloudRest",["Restangular","config","$location","$window","$q","CacheFactory","$http",function(e,t,o,a,r,n,i){var l,u=t.URL,c={},s={getItem:function(e){return c[e]},setItem:function(e,t){c[e]=t},removeItem:function(e){delete c[e]}},d={deleteOnExpire:"passive",recycleFreq:3e5,maxAge:3e5,storageMode:"sessionStorage",storagePrefix:""};window.sessionStorage||(d.storageMode="memory",d.storageImpl=s),n.get("CloudServiceCache")||n("CloudServiceCache",d),l=n.get("CloudServiceCache");var f=e.withConfig(function(e){e.setBaseUrl(t.apiCloudURL),e.setDefaultHttpFields({cache:l,withCredentials:!0}),e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.addErrorInterceptor(function(e,t,a){return 401===e.status?(p.authorize(),!1):403===e.status?(o.path("/unauthorized"),!1):!0})}),C=e.withConfig(function(e){e.setBaseUrl(t.apiCloudURL),e.setDefaultHttpFields({cache:!1,withCredentials:!0}),e.setDefaultHeaders({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),e.addErrorInterceptor(function(e,t,a){return 401===e.status?(p.authorize(),!1):403===e.status?(o.path("/unauthorized"),!1):!0})}),h=function(e,t,o){var r=e.all(o.apiCloudCtx);e.all(o.apiCloudCtxV2),e.all(o.apiCloudCtxV3),t.all(o.apiCloudCtx),t.all(o.apiCloudCtxV2),t.all(o.apiCloudCtxV3);this.authorize=function(e){var t="";t=void 0!==e&&""!==e?u+a.location.protocol+"//"+a.location.host+"/#"+e:u+a.location.href,a.location.href=t},this.logout=function(){return r.one("auth").post("logout",{})}},p=new h(f,C,t);return p}]),angular.module("CloudService").factory("CloudService",["CloudRest","CloudMock","config",function(e,t,o){return"DEVEL"===o.ENV?t:e}]);